@model ASP.NET_CORE_WEB_SQL.Models.Product


<h2>Sửa sản phẩm</h2>

<form asp-action="Update" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="Id" />
    <div>
        <label asp-for="Name">Nhập Tên</label>
        <input asp-for="Name" class="form-control" type="text" />
    </div>
    <div>
        <label asp-for="Price">Nhập giá</label>
        <input asp-for="Price" class="form-control" type="number" />
    </div>
    <div>
        <label asp-for="Description">Nhập mô tả</label>
        <textarea class="form-control" rows="3" asp-for="Description"></textarea>

    </div>

    <!--Hiện ảnh cũ-->
    <div class="mt-2 ">
        <label class="form-label">Hình ảnh</label>
        @if (!string.IsNullOrEmpty(Model.ImagePath))
        {
            <img  id="previewImage" src="@Model.ImagePath" style="max-height:200px" />
        }
    </div>
    <!--Uplaod ảnh mới-->
    <div>
        <label class="form-label">Upload ảnh mới</label>
        <input type="file" name="imageFile" class="form-control" onchange="previewFile(this)" />
    </div>

    <button class="btn btn-success text-white rounded mt-2 py-2 px-4 " type="submit">Sửa</button>

</form>

@section Scripts{
    <script>
        function previewFile(input){
            var file = input.files[0];
            if(file){
                var reader = new FileReader();
                reader.onload = function(e){
                    var pre = document.getElementById("previewImage").src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }
    </script>
}